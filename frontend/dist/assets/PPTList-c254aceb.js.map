{"version":3,"file":"PPTList-c254aceb.js","sources":["../../src/views/ppt/PPTList.vue"],"sourcesContent":["<template>\r\n  <div class=\"ppt-list\">\r\n    <div class=\"header\">\r\n      <h2>我的课件</h2>\r\n      <el-button type=\"primary\" @click=\"createNew\">\r\n        <el-icon><Plus /></el-icon>\r\n        创建课件\r\n      </el-button>\r\n    </div>\r\n\r\n    <div v-loading=\"loading\" class=\"ppt-content\">\r\n      <el-empty v-if=\"pptList.length === 0\" description=\"暂无课件\"></el-empty>\r\n      \r\n      <div v-else class=\"ppt-cards-grid\">\r\n        <el-card v-for=\"ppt in pptList\" :key=\"ppt.id\" class=\"ppt-card\" shadow=\"hover\">\r\n          <div class=\"ppt-card-content\">\r\n            <div class=\"ppt-thumbnail-container\">\r\n              <!-- 添加loading效果 -->\r\n              <div v-if=\"ppt.status === 'pending' || !ppt.thumbnail\" class=\"thumbnail-loading\">\r\n                <el-icon class=\"is-loading\"><Loading /></el-icon>\r\n                <span>加载中...</span>\r\n              </div>\r\n              <!-- 修改图片引用：使用forceRefresh确保不使用缓存 -->\r\n              <img \r\n                :key=\"`${ppt.id}-${forceRefresh}`\" \r\n                :src=\"ppt.thumbnail ? `${baseUrl}${ppt.thumbnail}?t=${Date.now()}` : '/images/default-ppt.png'\" \r\n                alt=\"PPT缩略图\" \r\n                class=\"ppt-thumbnail\"\r\n                @error=\"handleImageError(ppt)\"\r\n                :class=\"{'invisible': ppt.status === 'pending' || !ppt.thumbnail}\">\r\n              <div class=\"ppt-status-overlay\">\r\n                <el-tag :type=\"ppt.status === 'completed' ? 'success' : 'warning'\" size=\"large\" effect=\"dark\">\r\n                  {{ ppt.status === 'completed' ? '已完成' : '生成中' }}\r\n                </el-tag>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"ppt-detail\">\r\n              <h3 class=\"ppt-title\" :title=\"ppt.title\">{{ ppt.title }}</h3>\r\n              \r\n              <div class=\"ppt-info\">\r\n                <div class=\"info-item\">\r\n                  <el-icon><Calendar /></el-icon>\r\n                  <span>{{ ppt.createTime }}</span>\r\n                </div>\r\n                <div class=\"info-item\" v-if=\"userRole === 'admin'\">\r\n                  <el-icon><User /></el-icon>\r\n                  <span>创建者: {{ ppt.creator }}</span>\r\n                </div>\r\n                <div class=\"info-item\" v-if=\"ppt.status === 'pending'\">\r\n                  <el-button\r\n                    link\r\n                    type=\"primary\"\r\n                    @click.stop=\"checkStatus(ppt)\"\r\n                    :loading=\"ppt.isChecking\"\r\n                    class=\"refresh-btn\"\r\n                  >\r\n                    <el-icon><Refresh /></el-icon>\r\n                    刷新状态\r\n                  </el-button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"ppt-actions\">\r\n                <el-button \r\n                  type=\"primary\" \r\n                  :disabled=\"ppt.status !== 'completed'\"\r\n                  @click=\"downloadPPT(ppt)\"\r\n                >\r\n                  <el-icon><Download /></el-icon>\r\n                  下载\r\n                </el-button>\r\n                <!-- 添加合成视频按钮 -->\r\n                <el-button \r\n                  type=\"success\"\r\n                  :disabled=\"ppt.status !== 'completed'\"\r\n                  @click=\"createVideo(ppt)\"\r\n                >\r\n                  <el-icon><VideoCamera /></el-icon>\r\n                  生成视频\r\n                </el-button>\r\n                <el-button \r\n                  type=\"text\" \r\n                  @click=\"deletePPT(ppt)\"\r\n                >\r\n                  <el-icon><Delete /></el-icon>\r\n                  删除\r\n                </el-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport axios from '@/utils/axios'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { Plus, Download, Delete, Refresh, Calendar, User, Loading, VideoCamera } from '@element-plus/icons-vue'\r\n\r\n// 将 import.meta.env 移到 script 中，并通过 ref 暴露给模板\r\nconst baseUrl = ref(import.meta.env.VITE_API_BASE_URL || '')\r\nconst userRole = ref(localStorage.getItem('roles'))\r\n\r\nconst router = useRouter()\r\nconst pptList = ref([])\r\nconst loading = ref(false)\r\n// 存储需要轮询的新生成PPT的ID\r\nlet newPptId = null\r\n// 存储轮询定时器\r\nlet pollInterval = null\r\n// 添加强制刷新标志\r\nconst forceRefresh = ref(Date.now())\r\n\r\nfunction createNew() {\r\n  router.push('/aiedu/generate-ppt/create')\r\n}\r\n\r\nasync function loadPPTList() {\r\n  loading.value = true\r\n  try {\r\n    const response = await axios.get('/api/ppt/list')\r\n    pptList.value = response.data.items\r\n  } catch (error) {\r\n    ElMessage.error('获取课件列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nfunction downloadPPT(ppt) {\r\n  if (ppt.status !== 'completed') {\r\n    ElMessage.warning('课件还未生成完成')\r\n    return\r\n  }\r\n  window.open(`${baseUrl.value}${ppt.download_url}`, '_blank')\r\n}\r\n\r\nasync function deletePPT(ppt) {\r\n  try {\r\n    await ElMessageBox.confirm(\r\n      '确定要删除这个课件吗？此操作不可恢复。',\r\n      '删除确认',\r\n      {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      }\r\n    )\r\n    \r\n    await axios.delete(`/api/ppt/delete/${ppt.id}`)\r\n    ElMessage.success('删除成功')\r\n    loadPPTList()\r\n  } catch (error) {\r\n    if (error !== 'cancel') {  // 用户点击取消按钮时不显示错误信息\r\n      ElMessage.error('删除失败')\r\n    }\r\n  }\r\n}\r\n\r\nasync function checkStatus(ppt) {\r\n  if (ppt.isChecking) return\r\n  \r\n  ppt.isChecking = true\r\n  \r\n  try {\r\n    const response = await axios.get(`/api/ppt/status/${ppt.id}`)\r\n    if (response.data.status === 'completed') {\r\n      ppt.status = 'completed'\r\n      ppt.download_url = response.data.download_url\r\n      // 更新后重新加载列表获取最新状态和缩略图\r\n      await loadPPTList()\r\n      ElMessage.success('PPT生成完成')\r\n    }\r\n  } catch (error) {\r\n    console.error('检查状态失败:', error)\r\n    ElMessage.error('检查状态失败')\r\n  } finally {\r\n    ppt.isChecking = false\r\n  }\r\n}\r\n\r\n// 检查localStorage中是否有新生成的PPT信息\r\nfunction checkForNewPPT() {\r\n  const lastGeneratedInfo = localStorage.getItem('lastGeneratedPPT')\r\n  if (lastGeneratedInfo) {\r\n    try {\r\n      const data = JSON.parse(lastGeneratedInfo)\r\n      if (data && data.file_id) {\r\n        // 记录新PPT的ID，用于轮询\r\n        newPptId = data.file_id\r\n        // 启动轮询\r\n        startNewPptPolling()\r\n        // 清除localStorage中的记录\r\n        localStorage.removeItem('lastGeneratedPPT')\r\n      }\r\n    } catch (e) {\r\n      console.error('解析新生成PPT信息失败:', e)\r\n    }\r\n  }\r\n}\r\n\r\n// 启动针对新生成PPT的简单轮询\r\nfunction startNewPptPolling() {\r\n  if (!newPptId) return\r\n  \r\n  console.log('开始轮询新生成的PPT:', newPptId)\r\n  \r\n  // 清除可能存在的旧轮询\r\n  if (pollInterval) {\r\n    clearInterval(pollInterval)\r\n  }\r\n  \r\n  // 轮询计数器\r\n  let count = 0\r\n  const maxCount = 20 // 增加最大轮询次数，确保有足够时间等待生成\r\n  \r\n  // 创建轮询定时器\r\n  pollInterval = setInterval(async () => {\r\n    count++\r\n    console.log(`轮询新PPT(${newPptId}) 第${count}次...`)\r\n    \r\n    try {\r\n      const response = await axios.get(`/api/ppt/status/${newPptId}`)\r\n      \r\n      // 查找列表中对应的PPT\r\n      const pptIndex = pptList.value.findIndex(p => p.id === newPptId)\r\n      \r\n      if (pptIndex !== -1) {\r\n        // 更新基本信息\r\n        pptList.value[pptIndex].status = response.data.status\r\n        \r\n        if (response.data.status === 'completed') {\r\n          console.log('PPT生成完成，更新状态和信息')\r\n          \r\n          // 更新所有相关信息\r\n          pptList.value[pptIndex].download_url = response.data.download_url\r\n          if (response.data.thumbnail) {\r\n            pptList.value[pptIndex].thumbnail = response.data.thumbnail\r\n            forceRefresh.value = Date.now() // 强制刷新缩略图\r\n          }\r\n          \r\n          // 停止轮询并显示提示\r\n          clearInterval(pollInterval)\r\n          pollInterval = null\r\n          newPptId = null\r\n          ElMessage.success('PPT生成完成')\r\n          return\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('轮询检查失败:', error)\r\n    }\r\n    \r\n    // 达到最大轮询次数后停止\r\n    if (count >= maxCount) {\r\n      clearInterval(pollInterval)\r\n      pollInterval = null\r\n      newPptId = null\r\n      console.log('达到最大轮询次数，轮询结束')\r\n      \r\n      // 最后加载一次完整列表，确保获取最新状态\r\n      loadPPTList()\r\n    }\r\n  }, 2000) // 每2秒检查一次，减少服务器压力\r\n}\r\n\r\n// 处理图片加载错误，简化重试逻辑\r\nfunction handleImageError(ppt) {\r\n  console.error(`缩略图加载失败: ${ppt.thumbnail}`)\r\n  \r\n  if (!ppt.retried) {\r\n    console.log('尝试重新加载缩略图')\r\n    ppt.retried = true\r\n    \r\n    // 延迟重新加载\r\n    setTimeout(async () => {\r\n      // 重新从服务器获取此PPT的最新状态\r\n      try {\r\n        const response = await axios.get(`/api/ppt/status/${ppt.id}`)\r\n        if (response.data.thumbnail) {\r\n          ppt.thumbnail = response.data.thumbnail\r\n          forceRefresh.value = Date.now() // 强制刷新\r\n        }\r\n      } catch (error) {\r\n        console.error('重新获取缩略图失败:', error)\r\n      }\r\n    }, 1000)\r\n  }\r\n}\r\n\r\n// 修改图片加载样式\r\nfunction updateThumbLoadingStyle() {\r\n  const style = document.createElement('style')\r\n  style.innerHTML = `\r\n    @keyframes rotate {\r\n      from { transform: rotate(0deg); }\r\n      to { transform: rotate(360deg); }\r\n    }\r\n    \r\n    .thumbnail-loading .el-icon {\r\n      animation: rotate 1.5s linear infinite;\r\n      font-size: 32px;\r\n      color: #409EFF;\r\n      margin-bottom: 8px;\r\n    }\r\n    \r\n    .thumbnail-loading {\r\n      z-index: 2;\r\n      background-color: rgba(245, 247, 250, 0.8);\r\n    }\r\n  `\r\n  document.head.appendChild(style)\r\n}\r\n\r\n// 添加合成视频功能\r\nfunction createVideo(ppt) {\r\n  if (ppt.status !== 'completed') {\r\n    ElMessage.warning('课件还未生成完成，无法合成视频')\r\n    return\r\n  }\r\n  \r\n  // 跳转到视频创作页面，并传递PPT ID\r\n  router.push({\r\n  path: '/aiedu/ppt-to-video/create',\r\n    query: { \r\n      pptId: ppt.id \r\n    }\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  // 加载PPT列表\r\n  loadPPTList()\r\n  \r\n  // 检查是否有新生成的PPT需要轮询\r\n  checkForNewPPT()\r\n  updateThumbLoadingStyle() // 添加动画样式\r\n})\r\n\r\nonUnmounted(() => {\r\n  // 组件卸载时清除轮询定时器\r\n  if (pollInterval) {\r\n    clearInterval(pollInterval)\r\n    pollInterval = null\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.ppt-list {\r\n  height:auto;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.ppt-content {\r\n  width: 100%;\r\n}\r\n\r\n.ppt-cards-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 16px;\r\n}\r\n\r\n/* 在小屏上切换为单列 */\r\n@media (max-width: 1200px) {\r\n  .ppt-cards-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n.ppt-card {\r\n  overflow: hidden;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n.ppt-card:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.ppt-card-content {\r\n  display: flex;\r\n  height: 140px; /* 略微减小高度以保持整体协调 */\r\n}\r\n\r\n.ppt-thumbnail-container {\r\n  /* 16:9 比例，基于高度计算宽度 */\r\n  flex: 0 0 calc(140px * 16 / 9);\r\n  height: 140px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 4px;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.ppt-thumbnail {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.ppt-card:hover .ppt-thumbnail {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.ppt-status-overlay {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.ppt-detail {\r\n  flex: 1;\r\n  padding: 0 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* 设置最大宽度约为15个中文字符宽度 */\r\n  width: 240px;\r\n  min-width: 240px;\r\n}\r\n\r\n.ppt-title {\r\n  margin: 0 0 8px 0;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  line-height: 1.3;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  /* 确保标题仅占用约15个中文字符的宽度 */\r\n  max-width: 240px;\r\n}\r\n\r\n.ppt-info {\r\n  color: #606266;\r\n  font-size: 14px;\r\n  flex-grow: 1;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 6px;\r\n  gap: 5px;\r\n}\r\n\r\n.ppt-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: auto;\r\n}\r\n\r\n/* 移除 Element Plus 默认的相邻按钮左间距，仅对“生成视频”的成功按钮生效 */\r\n.ppt-actions :deep(.el-button--success) {\r\n  margin-left: 0 !important;\r\n}\r\n\r\n.thumbnail-loading {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(245, 247, 250, 0.8);\r\n  z-index: 2;\r\n}\r\n\r\n.thumbnail-loading .el-icon {\r\n  font-size: 32px;\r\n  color: #409EFF;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.thumbnail-loading span {\r\n  color: #606266;\r\n  font-weight: bold;\r\n}\r\n\r\n.invisible {\r\n  opacity: 0.2;\r\n}\r\n</style>\r\n"],"names":["baseUrl","ref","userRole","router","useRouter","pptList","loading","newPptId","pollInterval","forceRefresh","createNew","loadPPTList","response","axios","ElMessage","downloadPPT","ppt","deletePPT","ElMessageBox","error","checkStatus","checkForNewPPT","lastGeneratedInfo","data","startNewPptPolling","e","count","maxCount","pptIndex","p","handleImageError","updateThumbLoadingStyle","style","createVideo","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_createVNode","_component_el_button","_component_el_icon","_unref","Plus","_withDirectives","_hoisted_3","_createBlock","_component_el_empty","_hoisted_4","_Fragment","_renderList","_component_el_card","_hoisted_5","_hoisted_6","_hoisted_7","Loading","_normalizeClass","$event","_hoisted_9","_component_el_tag","_createTextVNode","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","Calendar","_hoisted_14","User","_hoisted_15","_withModifiers","Refresh","_hoisted_16","Download","VideoCamera","Delete"],"mappings":"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"}