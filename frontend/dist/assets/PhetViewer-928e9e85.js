import{_ as g,U as y,u as x,r as d,G as r,H as b,o as H,a9 as k,b as _,d as V,e as B,f as a,t as T,g as l,w as m,ad as j,l as E,m as N,I as R,ae as z}from"./index-3f8b9c66.js";const C={class:"phet-viewer"},I={class:"phet-card"},L={class:"header"},P={class:"phet-content"},S=["src"],W={__name:"PhetViewer",setup(M){const f=y(),h=x(),u=d(null),c=d("0px"),i=r(()=>f.params.subject),p=r(()=>({math:"数学",physics:"物理",chemistry:"化学",biology:"生物"})[i.value]||"未知学科"),v=r(()=>`/phet/${i.value}/index.html`);function w(){h.push("/aiedu")}function o(){const t=u.value;t&&setTimeout(()=>{try{if(t.contentWindow){const e=t.contentWindow.document.body,s=t.contentWindow.document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);n&&n>0&&(c.value=n+"px")}}catch(e){console.log("无法调整iframe高度:",e)}},60)}return b(i,async()=>{c.value="0px",await R(),setTimeout(()=>o(),100)}),H(()=>{setTimeout(()=>o(),80),window.addEventListener("resize",o)}),k(()=>{window.removeEventListener("resize",o)}),(t,e)=>{const s=_("el-icon"),n=_("el-button");return V(),B("div",C,[a("div",I,[a("div",L,[a("h2",null,"仿真教学 - "+T(p.value),1),l(n,{onClick:w},{default:m(()=>[l(s,null,{default:m(()=>[l(E(z))]),_:1}),e[0]||(e[0]=N(" 返回 ",-1))]),_:1})]),a("div",P,[a("iframe",{ref_key:"iframeRef",ref:u,src:v.value,width:"100%",style:j({height:c.value}),frameborder:"0",scrolling:"no",allowfullscreen:"",onLoad:o},null,44,S)])])])}}},D=g(W,[["__scopeId","data-v-3d36ad0a"]]);export{D as default};
//# sourceMappingURL=PhetViewer-928e9e85.js.map
