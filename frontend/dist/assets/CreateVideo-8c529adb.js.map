{"version":3,"file":"CreateVideo-8c529adb.js","sources":["../../src/views/ppt2video/CreateVideo.vue"],"sourcesContent":["<template>\r\n  <div class=\"video-editor\" v-loading.fullscreen.lock=\"parsingPPT\" element-loading-text=\"PPT正在解析中...\">\r\n    <!-- 删除不正确的loading组件 -->\r\n    \r\n    <!-- 顶部导航 -->\r\n    <div class=\"editor-header\">\r\n      <el-page-header @back=\"goBack\" title=\"返回列表\" content=\"视频制作\">\r\n        <template #extra>\r\n          <el-button type=\"primary\" :disabled=\"!currentSlide\" @click=\"handleSave\">\r\n            <el-icon><Check /></el-icon>\r\n            保存草稿\r\n          </el-button>\r\n        </template>\r\n      </el-page-header>\r\n    </div>\r\n\r\n    <!-- 主编辑区域 -->\r\n    <div class=\"editor-main\">\r\n      <!-- 左侧边栏：上传和缩略图 -->\r\n      <div class=\"editor-sidebar-left\">\r\n        <div class=\"upload-section\">\r\n          <el-button type=\"primary\" @click=\"handleUploadClick\">\r\n            <el-icon><Folder /></el-icon>\r\n            选择课件\r\n          </el-button>\r\n        </div>\r\n        \r\n        <!-- 缩略图列表 -->\r\n        <div v-if=\"previewImages.length > 0\" class=\"thumbnails-list\">\r\n          <el-scrollbar height=\"calc(100vh - 222px)\">\r\n            <div \r\n              v-for=\"(img, index) in formattedImages\" \r\n              :key=\"index\"\r\n              class=\"thumbnail-item\"\r\n              :class=\"{ active: currentSlideIndex === index }\"\r\n              @click=\"handleThumbnailClick(index)\"\r\n            >\r\n              <img :src=\"img\" :alt=\"'幻灯片 ' + (index + 1)\">\r\n              <div class=\"thumbnail-index\">第 {{ index + 1 }} 页</div>\r\n            </div>\r\n          </el-scrollbar>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 中间主内容区：大图预览和备注 -->\r\n      <div class=\"editor-content\">\r\n        <div class=\"preview-section\" v-if=\"currentSlide\">\r\n          <img :src=\"currentSlide\" alt=\"当前幻灯片\" class=\"preview-image\">\r\n        </div>\r\n        <div class=\"setting-tip\">解说内容：</div>\r\n        <div class=\"notes-section\">\r\n          <el-input\r\n            v-model=\"currentNotes\"\r\n            type=\"textarea\"\r\n            :rows=\"3\"\r\n            :resize=\"none\"\r\n            placeholder=\"在此输入当前页面的解说文字...\"\r\n            @blur=\"updateSlideNote\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 右侧工具栏 -->\r\n      <div class=\"editor-sidebar-right\">\r\n        <div class=\"tools-section\">\r\n          <el-button-group vertical>\r\n            <el-button \r\n              type=\"success\" \r\n              @click=\"handleGenerate\" \r\n              :loading=\"generatingVideo\"\r\n              :disabled=\"!previewImages.length || generatingVideo\"\r\n            >\r\n              <el-icon><VideoCamera /></el-icon>\r\n              生成视频\r\n            </el-button>\r\n            <el-button \r\n              type=\"info\" \r\n              @click=\"handlePreview\"\r\n              :disabled=\"!videoUrl\"\r\n            >\r\n              <el-icon><View /></el-icon>\r\n              预览视频\r\n            </el-button>\r\n          </el-button-group>\r\n        </div>\r\n        \r\n        <!-- 视频生成设置 -->\r\n        <div class=\"settings-section\" v-if=\"previewImages.length > 0\">\r\n          <h4>视频设置</h4>\r\n          <el-form label-position=\"top\" size=\"small\">\r\n            <el-form-item label=\"每页停留时间\">\r\n              <el-input-number \r\n                v-model=\"slideDuration\" \r\n                :min=\"1\" \r\n                :max=\"20\" \r\n                :step=\"1\"\r\n                size=\"small\"\r\n              />\r\n              <span class=\"unit\">秒</span>\r\n              <!-- 添加提示信息 -->\r\n              <div class=\"setting-tip\">默认3秒，一般不用修改</div>\r\n            </el-form-item>\r\n            \r\n            <!-- 替换原来的语音选择为自定义组件 -->\r\n            <el-form-item label=\"语音类型\">\r\n              <voice-selector v-model=\"voiceType\" />\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 视频预览对话框 -->\r\n    <el-dialog\r\n      v-model=\"videoPreviewVisible\"\r\n      title=\"视频预览\"\r\n      width=\"70%\"\r\n      custom-class=\"video-preview-dialog\"\r\n      @closed=\"handleVideoDialogClose\"\r\n    >\r\n      <div class=\"video-container\" v-if=\"videoUrl\">\r\n        <video \r\n          controls \r\n          :src=\"`${API_BASE_URL}${videoUrl}`\" \r\n          style=\"width: 100%;\"\r\n          ref=\"videoPlayer\"\r\n        ></video>\r\n      </div>\r\n      <div v-else class=\"no-video\">\r\n        <el-empty description=\"尚未生成视频\"></el-empty>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 添加选择PPT文件对话框 -->\r\n    <el-dialog\r\n      v-model=\"selectFileDialogVisible\"\r\n      title=\"选择课件\"\r\n      width=\"60%\"\r\n      class=\"file-select-dialog\"  \r\n    >\r\n      <!-- 添加el-scrollbar包裹表格 -->\r\n      <el-scrollbar height=\"250px\">  <!-- 设置固定高度 -->\r\n        <el-table \r\n          :data=\"systemPPTs\" \r\n          style=\"width: 100%;\" \r\n          v-loading=\"loadingPPTs\"\r\n          :max-height=\"250\"  \r\n        >\r\n          <el-table-column prop=\"title\" label=\"课件标题\" />\r\n          <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\" />\r\n          <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\r\n            <template #default=\"scope\">\r\n              <el-button \r\n                link \r\n                type=\"info\" \r\n                @click=\"handleSelectPPT(scope.row)\"\r\n              >\r\n                选择\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-scrollbar>\r\n\r\n      <!-- 分割线 -->\r\n      <div class=\"divider\">\r\n        <span>或者上传新文件</span>\r\n      </div>\r\n\r\n      <!-- 上传组件 -->\r\n      <el-upload\r\n        class=\"upload-new\"\r\n        drag\r\n        :action=\"uploadUrl\"\r\n        accept=\".ppt,.pptx\"\r\n        :on-success=\"handleUploadSuccess\"\r\n        :on-error=\"handleUploadError\"\r\n        :before-upload=\"beforeUpload\"\r\n        :headers=\"headers\"\r\n      >\r\n        <el-icon class=\"el-icon--upload\"><upload-filled /></el-icon>\r\n        <div class=\"el-upload__text\">\r\n          拖拽文件到此处或 <em>点击上传</em>\r\n        </div>\r\n      </el-upload>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, watch, onUnmounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { \r\n  UploadFilled, \r\n  Document, \r\n  VideoCamera, \r\n  View,\r\n  Upload,\r\n  Folder,\r\n  Check \r\n} from '@element-plus/icons-vue'\r\nimport axios from '@/utils/axios'\r\n\r\n// 导入自定义语音选择器组件\r\nimport VoiceSelector from '@/components/VoiceSelector.vue'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute() // 获取路由对象\r\n// 使用常量替代 import.meta.env\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000'\r\nconst uploadUrl = `${API_BASE_URL}/api/ppt2video/upload`\r\nconst headers = {\r\n  Authorization: `Bearer ${localStorage.getItem('token')}`\r\n}\r\n\r\nconst previewImages = ref([])\r\nconst currentSlideIndex = ref(-1)\r\nconst currentNotes = ref('')\r\nconst slideNotes = ref([])  // 添加这行存储所有备注\r\nconst sessionId = ref('') // 用于保存上传后的会话ID\r\n\r\n// 添加新的状态变量\r\nconst selectFileDialogVisible = ref(false)\r\nconst systemPPTs = ref([])\r\nconst loadingPPTs = ref(false)\r\nconst generatingVideo = ref(false)\r\nconst videoUrl = ref('') // 存储生成的视频URL\r\nconst videoPreviewVisible = ref(false) // 控制视频预览对话框\r\nconst parsingPPT = ref(false) // 添加新的状态变量来控制PPT解析的loading状态\r\n\r\n// 视频生成设置\r\nconst slideDuration = ref(3)\r\nconst voiceType = ref('aixia')  // 修改默认音色为 aixia\r\n\r\n// 视频ID，用于保存草稿\r\nconst videoId = ref(null);\r\n\r\n// 删除自动保存定时器相关代码\r\n// let autoSaveTimer = null;\r\n\r\n// 修改监听关系，移除自动保存逻辑\r\nwatch([sessionId, slideNotes], () => {\r\n  // 不再自动保存，移除相关逻辑\r\n}, { deep: true });\r\n\r\n// 检查是否有PPT ID作为参数传入\r\nonMounted(() => {\r\n  // 处理从PPT列表跳转过来的情况\r\n  const pptId = route.query.pptId\r\n  if (pptId) {\r\n    console.log('检测到PPT ID参数:', pptId)\r\n    // 自动选择相应的PPT\r\n    handleInitialPPTSelection(pptId)\r\n  }\r\n})\r\n\r\nonUnmounted(() => {\r\n  // 删除清除自动保存定时器的代码\r\n});\r\n\r\n// 保存视频数据 - 简化版本\r\nasync function saveVideoData() {\r\n  // 如果没有数据，跳过保存\r\n  if (!sessionId.value || !slideNotes.value.length) {\r\n    return false;\r\n  }\r\n  \r\n  try {\r\n    // 保存当前幻灯片备注\r\n    updateSlideNote();\r\n    \r\n    // 构建请求\r\n    const requestData = {\r\n      sessionId: sessionId.value,\r\n      notes: slideNotes.value,\r\n      duration: slideDuration.value,\r\n      voiceType: voiceType.value,\r\n      video_id: videoId.value // 复用已有视频ID\r\n    };\r\n    \r\n    console.log(`保存草稿，videoId=${videoId.value || '新建'}`);\r\n    \r\n    // 发送保存请求\r\n    const response = await axios.post(\r\n      `${API_BASE_URL}/api/ppt2video/save-draft`,\r\n      requestData\r\n    );\r\n    \r\n    // 处理响应\r\n    if (response.data && response.data.status === 'success') {\r\n      // 如果是新建的，保存返回的视频ID\r\n      if (!videoId.value && response.data.video_id) {\r\n        videoId.value = response.data.video_id;\r\n        console.log(`获取到新视频ID: ${videoId.value}`);\r\n      }\r\n      return true;\r\n    } else {\r\n      console.warn('保存草稿失败:', response.data?.message);\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    console.error('保存草稿出错:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// 处理图片URL\r\nconst formattedImages = computed(() => {\r\n  return previewImages.value.map(img => `${API_BASE_URL}${img}`)\r\n})\r\n\r\n// 当前选中的幻灯片\r\nconst currentSlide = computed(() => {\r\n  if (currentSlideIndex.value >= 0 && formattedImages.value.length > 0) {\r\n    return formattedImages.value[currentSlideIndex.value]\r\n  }\r\n  return null\r\n})\r\n\r\n// 添加视频元素的引用\r\nconst videoPlayer = ref(null)\r\n\r\nfunction goBack() {\r\n  router.push('/aiedu/ppt-to-video')\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n  // 扩展名检查\r\n  const isPPT = file.name.toLowerCase().endsWith('.ppt')\r\n  const isPPTX = file.name.toLowerCase().endsWith('.pptx')\r\n  const isValidType = isPPT || isPPTX\r\n\r\n  // 支持的MIME类型列表\r\n  const validMimeTypes = [\r\n    'application/vnd.ms-powerpoint',\r\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n    'application/powerpoint',\r\n    'application/x-powerpoint',\r\n    'application/mspowerpoint',\r\n    '',  // 某些浏览器可能返回空的mime类型\r\n  ]\r\n\r\n  // 文件大小检查（50MB）\r\n  const isLt50M = file.size / 1024 / 1024 < 50\r\n\r\n  if (!isValidType) {\r\n    ElMessage.error('只支持 .ppt 和 .pptx 格式的文件!')\r\n    return false\r\n  }\r\n  \r\n  if (!isLt50M) {\r\n    ElMessage.error('文件大小不能超过 50MB!')\r\n    return false\r\n  }\r\n\r\n  // 文件验证通过后开启loading状态\r\n  parsingPPT.value = true\r\n\r\n  // 记录文件信息用于调试\r\n  console.log('File type check:', {\r\n    name: file.name,\r\n    type: file.type,\r\n    size: file.size,\r\n    isValidType,\r\n    isPPT,\r\n    isPPTX\r\n  })\r\n\r\n  return true\r\n}\r\n\r\nfunction handleUploadSuccess(response) {\r\n  // 先关闭对话框\r\n  selectFileDialogVisible.value = false\r\n  \r\n  // 更新数据\r\n  previewImages.value = response.images\r\n  slideNotes.value = response.notes || new Array(response.images.length).fill('')\r\n  sessionId.value = response.id  // 保存会话ID，用于后续生成视频\r\n\r\n  if (response.images && response.images.length > 0) {\r\n    currentSlideIndex.value = 0\r\n    currentNotes.value = slideNotes.value[0] || ''\r\n  }\r\n  \r\n  // 关闭loading状态 - 确保在数据更新后关闭\r\n  parsingPPT.value = false\r\n\r\n  // 仅在内容解析完成后自动保存一次\r\n  saveVideoData();\r\n}\r\n\r\nfunction handleUploadError(error) {\r\n  ElMessage.error('上传失败，请重试')\r\n  console.error('Upload error:', error)\r\n  parsingPPT.value = false // 出错时也需要关闭loading\r\n}\r\n\r\nfunction handleThumbnailClick(index) {\r\n  currentSlideIndex.value = index\r\n  currentNotes.value = slideNotes.value[index] || ''  // 切换时更新备注\r\n}\r\n\r\nfunction handleSave() {\r\n  // 保存当前幻灯片的备注\r\n  updateSlideNote();\r\n  \r\n  // 保存到服务器\r\n  saveVideoData().then(result => {\r\n    if (result) {\r\n      ElMessage.success('草稿已保存');\r\n    } else {\r\n      ElMessage.warning('保存失败，请稍后再试');\r\n    }\r\n  });\r\n}\r\n\r\nasync function handleGenerate() {\r\n  try {\r\n    // 检查是否已经有PPT\r\n    if (previewImages.value.length === 0) {\r\n      ElMessage.warning('请先上传或选择一个PPT文件')\r\n      return\r\n    }\r\n    \r\n    // 确保所有备注已保存\r\n    updateSlideNote()\r\n    \r\n    // 先保存草稿\r\n    await saveVideoData();\r\n    \r\n    // 显示确认对话框\r\n    await ElMessageBox.confirm(\r\n      '确定开始生成视频吗？根据幻灯片数量和备注长度，这可能需要几分钟时间。',\r\n      '生成视频',\r\n      {\r\n        confirmButtonText: '确认生成',\r\n        cancelButtonText: '取消',\r\n        type: 'info'\r\n      }\r\n    )\r\n    \r\n    // 设置生成状态为true，禁用按钮\r\n    generatingVideo.value = true\r\n    \r\n    // 调用后端API生成视频，传递视频ID以便更新而不是创建新记录\r\n    const response = await axios.post(`${API_BASE_URL}/api/ppt2video/generate-video`, {\r\n      sessionId: sessionId.value,\r\n      notes: slideNotes.value,\r\n      duration: slideDuration.value,\r\n      voiceType: voiceType.value,\r\n      video_id: videoId.value  // 传递视频ID表示这是编辑模式\r\n    })\r\n    \r\n    console.log('生成视频响应:', response.data);\r\n    \r\n    if (response.data.task_id) {\r\n      const taskId = response.data.task_id\r\n      ElMessage.success('视频生成任务已提交，正在后台处理中...')\r\n      \r\n      // 轮询任务状态\r\n      pollTaskStatus(taskId)\r\n    } else {\r\n      throw new Error('未获取到任务ID')\r\n    }\r\n  } catch (error) {\r\n    if (error === 'cancel') {\r\n      // 用户取消操作，不需要显示错误提示\r\n      return\r\n    }\r\n    console.error('生成视频失败:', error)\r\n    ElMessage.error(error.response?.data?.detail || '生成视频失败，请重试')\r\n    // 发生错误时，恢复按钮状态\r\n    generatingVideo.value = false\r\n  }\r\n}\r\n\r\n// 添加轮询任务状态的函数\r\nfunction pollTaskStatus(taskId, attempts = 0) {\r\n  setTimeout(async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/api/ppt2video/task/${taskId}`)\r\n      const status = response.data.status\r\n      \r\n      // 检查任务状态，所有情况下都需要设置generatingVideo状态\r\n      if (status === 'completed') {\r\n        // 任务完成\r\n        generatingVideo.value = false\r\n        videoUrl.value = response.data.result.video_url\r\n        ElMessage.success('视频生成成功!')\r\n        \r\n        // 自动打开预览\r\n        videoPreviewVisible.value = true\r\n      } else if (status === 'failed') {\r\n        // 任务失败\r\n        generatingVideo.value = false\r\n        ElMessage.error(`视频生成失败: ${response.data.error || '未知错误'}`)\r\n      } else if (status === 'running' || status === 'pending') {\r\n        // 任务仍在进行中，继续轮询\r\n        if (attempts < 120) {  // 最多轮询2分钟 (120 * 1秒)\r\n          // 保持generatingVideo为true状态\r\n          generatingVideo.value = true\r\n          pollTaskStatus(taskId, attempts + 1)\r\n        } else {\r\n          // 超时但不停止任务\r\n          generatingVideo.value = false\r\n          ElMessage.info('视频生成仍在进行中，请稍后在\"我的视频\"列表中查看结果。')\r\n        }\r\n      } else {\r\n        // 未知状态\r\n        generatingVideo.value = false\r\n        ElMessage.warning('无法获取视频生成状态，请在\"我的视频\"列表中查看结果。')\r\n      }\r\n    } catch (error) {\r\n      console.error('获取任务状态失败:', error)\r\n      if (attempts < 10) {  // 重试几次\r\n        pollTaskStatus(taskId, attempts + 1)\r\n      } else {\r\n        generatingVideo.value = false\r\n        ElMessage.error('获取视频生成状态失败，请在\"我的视频\"列表中查看结果。')\r\n      }\r\n    }\r\n  }, 1000)  // 每秒查询一次\r\n}\r\n\r\nfunction handlePreview() {\r\n  if (videoUrl.value) {\r\n    videoPreviewVisible.value = true\r\n  } else {\r\n    ElMessage.info('请先生成视频')\r\n  }\r\n}\r\n\r\n// 修改原有的上传按钮点击处理函数\r\nfunction handleUploadClick() {\r\n  selectFileDialogVisible.value = true\r\n  loadSystemPPTs()\r\n}\r\n\r\n// 加载系统PPT列表\r\nasync function loadSystemPPTs() {\r\n  loadingPPTs.value = true\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/api/ppt/list`)  // 添加基础URL\r\n    // 修复这里：确保每个PPT项目都有有效的id属性\r\n    systemPPTs.value = response.data.items\r\n      .filter(item => item.status === 'completed')\r\n      .map(item => {\r\n        // 确保每个项目有字符串类型的id\r\n        return {\r\n          ...item,\r\n          id: item.id ? String(item.id) : undefined // 确保id是字符串或undefined，而不是数字0\r\n        };\r\n      });\r\n  } catch (error) {\r\n    console.error('获取课件列表失败:', error)  // 添加错误日志\r\n    ElMessage.error('获取课件列表失败')\r\n  } finally {\r\n    loadingPPTs.value = false\r\n  }\r\n}\r\n\r\n// 处理选择系统PPT\r\nasync function handleSelectPPT(ppt) {\r\n  try {\r\n    // 先关闭对话框\r\n    selectFileDialogVisible.value = false\r\n    // 显示loading\r\n    parsingPPT.value = true\r\n    \r\n    const response = await axios.post(`${API_BASE_URL}/api/ppt2video/convert-system-ppt`, {\r\n      pptId: ppt.id // 确保这里传递的是文件名或ID\r\n    })\r\n    \r\n    if (response.data.status === 'success') {\r\n      // 保存会话ID，用于后续生成视频\r\n      sessionId.value = response.data.id\r\n      handleUploadSuccess(response.data)\r\n      // handleUploadSuccess 会自动关闭 parsingPPT\r\n    } else {\r\n      throw new Error(response.data.detail || '转换失败')\r\n    }\r\n  } catch (error) {\r\n    console.error('选择课件失败:', error)\r\n    ElMessage.error(error.response?.data?.detail || '选择课件失败')\r\n    parsingPPT.value = false // 确保出错时关闭loading\r\n  }\r\n}\r\n\r\n// 更新当前幻灯片的备注\r\nfunction updateSlideNote() {\r\n  if (currentSlideIndex.value >= 0) {\r\n    slideNotes.value[currentSlideIndex.value] = currentNotes.value\r\n  }\r\n}\r\n\r\n// 添加处理视频对话框关闭的函数\r\nfunction handleVideoDialogClose() {\r\n  // 确保video元素存在且有效\r\n  if (videoPlayer.value) {\r\n    // 暂停视频播放\r\n    videoPlayer.value.pause();\r\n    // 重置视频到开头\r\n    videoPlayer.value.currentTime = 0;\r\n  }\r\n}\r\n\r\n// 处理自动选择PPT的函数\r\nasync function handleInitialPPTSelection(pptId) {\r\n  try {\r\n    // 显示loading状态\r\n    parsingPPT.value = true\r\n    \r\n    // 发起请求转换PPT\r\n    const response = await axios.post(`${API_BASE_URL}/api/ppt2video/convert-system-ppt`, {\r\n      pptId: pptId\r\n    })\r\n    \r\n    if (response.data.status === 'success') {\r\n      // 保存会话ID\r\n      sessionId.value = response.data.id\r\n      handleUploadSuccess(response.data)\r\n      ElMessage.success('PPT已成功加载')\r\n    } else {\r\n      throw new Error(response.data.detail || '转换失败')\r\n    }\r\n  } catch (error) {\r\n    console.error('自动加载PPT失败:', error)\r\n    ElMessage.error(error.response?.data?.detail || '加载PPT失败')\r\n    parsingPPT.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 基础布局 */\r\n.video-editor {\r\n  height: calc(100vh - 60px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  margin: -16px;\r\n}\r\n\r\n.editor-header {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n  flex-shrink: 0;\r\n}\r\n\r\n.editor-main {\r\n  flex: 1;\r\n  display: flex;\r\n  min-height: 0;\r\n  height: calc(100% - 52px);\r\n}\r\n\r\n/* 左侧边栏 */\r\n.editor-sidebar-left {\r\n  width: 180px;\r\n  border-right: 1px solid var(--el-border-color-light);\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.upload-section {\r\n  padding: 12px;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n  text-align: center;\r\n}\r\n\r\n/* 缩略图列表 */\r\n.thumbnails-list {\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.thumbnail-item {\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.thumbnail-item:hover {\r\n  background-color: var(--el-fill-color-light);\r\n}\r\n\r\n.thumbnail-item.active {\r\n  background-color: var(--el-color-primary-light-9);\r\n}\r\n\r\n.thumbnail-item img {\r\n  width: 100%;\r\n  border-radius: 4px;\r\n}\r\n\r\n.thumbnail-index {\r\n  text-align: center;\r\n  margin-top: 4px;\r\n  color: var(--el-text-color-secondary);\r\n  font-size: 12px;\r\n}\r\n\r\n/* 主内容区 */\r\n.editor-content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  min-width: 0;\r\n}\r\n\r\n.preview-section {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n  background-color: var(--el-fill-color);\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  height: calc(100% - 92px);\r\n}\r\n\r\n.preview-image {\r\n  max-width: 100%;\r\n  height: auto;\r\n  object-fit: contain;\r\n}\r\n\r\n.notes-section {\r\n  height: 80px;\r\n  margin-top: auto;\r\n}\r\n\r\n/* 右侧工具栏 */\r\n.editor-sidebar-right {\r\n  width: 160px;\r\n  border-left: 1px solid var(--el-border-color-light);\r\n  padding: 16px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.tools-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n/* 对话框样式 */\r\n.divider {\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: center;\r\n  margin: 20px 0;\r\n  color: var(--el-text-color-secondary);\r\n}\r\n\r\n.divider::before,\r\n.divider::after {\r\n  content: '';\r\n  flex: 1;\r\n  border-top: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.divider span {\r\n  padding: 0 20px;\r\n}\r\n\r\n/* Element Plus 组件样式覆盖 */\r\n:deep(.el-button-group) {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n:deep(.el-button-group .el-button) {\r\n  width: 100%;\r\n  margin: 0;\r\n  border-radius: 4px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n:deep(.el-textarea__inner) {\r\n  resize: none;\r\n}\r\n\r\n/* 上传组件相关样式 */\r\n.upload-compact :deep(.el-upload-dragger) {\r\n  display: none;\r\n}\r\n\r\n.file-select-dialog :deep(.el-upload-dragger) {\r\n  display: block !important;\r\n  width: 100%;\r\n  height: 120px !important;\r\n}\r\n\r\n.file-select-dialog :deep(.el-upload) {\r\n  width: 100%;\r\n}\r\n\r\n.file-select-dialog :deep(.el-upload-dragger .el-icon--upload) {\r\n  margin-top: 20px;\r\n}\r\n\r\n.file-select-dialog :deep(.el-upload__text) {\r\n  margin: 10px 0;\r\n}\r\n\r\n/* 表格样式 */\r\n.file-select-dialog :deep(.el-scrollbar__wrap) {\r\n  overflow-x: hidden;\r\n}\r\n.settings-section {\r\n  margin-top: 20px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid var(--el-border-color-light);\r\n}\r\n\r\n.settings-section h4 {\r\n  margin-bottom: 12px;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.unit {\r\n  margin-left: 5px;\r\n  color: var(--el-text-color-secondary);\r\n  font-size: 12px;\r\n}\r\n\r\n/* 添加提示信息样式 */\r\n.setting-tip {\r\n  font-size: 12px;\r\n  color: #43aff1;\r\n  margin-top: 4px;\r\n  line-height: 1.2;\r\n}\r\n\r\n.video-preview-dialog :deep(.el-dialog__body) {\r\n  padding-top: 10px;\r\n}\r\n\r\n.no-video {\r\n  height: 300px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.video-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  background-color: #000;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n</style>"],"names":["router","useRouter","route","useRoute","API_BASE_URL","uploadUrl","headers","previewImages","ref","currentSlideIndex","currentNotes","slideNotes","sessionId","selectFileDialogVisible","systemPPTs","loadingPPTs","generatingVideo","videoUrl","videoPreviewVisible","parsingPPT","slideDuration","voiceType","videoId","watch","onMounted","pptId","handleInitialPPTSelection","onUnmounted","saveVideoData","updateSlideNote","requestData","response","axios","error","formattedImages","computed","img","currentSlide","videoPlayer","goBack","beforeUpload","file","isPPT","isPPTX","isValidType","isLt50M","ElMessage","handleUploadSuccess","handleUploadError","handleThumbnailClick","index","handleSave","result","handleGenerate","ElMessageBox","taskId","pollTaskStatus","attempts","status","handlePreview","handleUploadClick","loadSystemPPTs","item","handleSelectPPT","ppt","handleVideoDialogClose","_withDirectives","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_page_header","_component_el_button","_component_el_icon","_unref","Check","_hoisted_3","_hoisted_4","_hoisted_5","Folder","_hoisted_6","_component_el_scrollbar","_Fragment","_renderList","_normalizeClass","$event","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_cache","_hoisted_13","_component_el_input","none","_hoisted_14","_hoisted_15","_component_el_button_group","VideoCamera","View","_hoisted_16","_component_el_form","_component_el_form_item","_component_el_input_number","VoiceSelector","_component_el_dialog","_hoisted_17","_hoisted_19","_component_el_empty","_createBlock","_component_el_table","_component_el_table_column","_withCtx","scope","_component_el_upload","UploadFilled"],"mappings":"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"}